<div class="overshadow" (click)="closeEdit()">

</div>

<div class="edit-area">


  <div class="close-btn" (click)="closeEdit()"><i class="fas fa-times"></i></div>

  <div class="scroll-inside">

    <div class="container-fluid">

      <div class="row row-form">
        <div class="col-md-12">

          <form [formGroup]="investForm" (submit)="saveForm()">

            <div class="row">
              <div class="col-md-6">
                <h4>Obrazek główny:</h4>
                <app-main-image [image]="invest.headerImage" (emitImageChange)="changeHeaderImage($event)">
                </app-main-image>
              </div>
              <div class="col-md-6">
                <h4>Obrazek horyzontalny:</h4>
                <app-horizontal-image [image]="invest.horizontImage" (emitImageChange)="changeHorizontImage($event)">
                </app-horizontal-image>
              </div>
            </div>

            <div class="row">
              <div class="col-md-12">
                <hr>
              </div>
            </div>

            <div class="row">
              <div class="col-md-12">
                <h4>Mapa:</h4>
                <app-map-image [mapImage]="invest.map" (emitImageChange)="changeMapImage($event)"></app-map-image>
              </div>
            </div>

            <div class="row">
              <div class="col-md-12">
                <hr>
              </div>
            </div>

            <!-- <div class="row">
              <div class="col-md-12">
                <h4>Strefa zasięgu:</h4>
                <app-zone [zone]="invest.zone" (emitZoneChange)="changeZone($event)"></app-zone>
              </div>
            </div> -->

            <div class="row">
              <div class="col-md-12">
                <hr>
              </div>
            </div>

            <div class="row">
              <div class="col-md-12">
                <h4>Plany:</h4>
                <app-plan-preview [plans]="invest.plans" (changePlans)="changePlans($event)">
                </app-plan-preview>
                <hr>
                <button type="button" class="btn btn-warning w-100" (click)="editPlans()">Edytuj plany</button>
              </div>
            </div>

            <div class="row">
              <div class="col-md-12">
                <hr>
              </div>
            </div>

            <div class="row">
              <div class="col-md-4">
                <mat-form-field class="full-width">
                  <input matInput placeholder="Nazwa" formControlName="mainName">
                </mat-form-field>
              </div>
              <div class="col-md-4">
                <mat-form-field class="full-width">
                  <input matInput placeholder="Nazwa projektu" formControlName="projectName">
                </mat-form-field>
              </div>
              <div class="col-md-4">
                <mat-form-field class="full-width">
                  <textarea matInput placeholder="Adres" formControlName="address"></textarea>
                </mat-form-field>
              </div>
            </div>

            <div class="row">
              <div class="col-md-4">
                <mat-form-field class="full-width">
                  <textarea matInput placeholder="Miasto" formControlName="city"></textarea>
                </mat-form-field>
              </div>
              <div class="col-md-4">
                <mat-form-field class="full-width">
                  <input matInput placeholder="Powierzchnia" formControlName="areaSize">
                </mat-form-field>
              </div>
              <div class="col-md-4">
                <mat-form-field class="full-width">
                  <textarea matInput placeholder="Powierzchnia parkingu" formControlName="parkingAreaSize"></textarea>
                </mat-form-field>
              </div>
            </div>

            <div class="row">
              <div class="col-md-6">
                <ckeditor formControlName="textLeft" [config]="ckEditorConfig"></ckeditor>
              </div>
              <div class="col-md-6">
                <ckeditor formControlName="textRight" [config]="ckEditorConfig"></ckeditor>
              </div>
            </div>

            <div class="row">
              <div class="col-md-12">
                <br>
              </div>
            </div>

            <div class="row">
              <div class="col-md-12">
                <mat-form-field class="full-width">
                  <textarea matInput placeholder="Najemcy" formControlName="rentiers"></textarea>
                </mat-form-field>
              </div>

            </div>

            <div class="row">
              <div class="col-md-4">
                <mat-form-field class="full-width">
                  <input matInput placeholder="Data otwarcia" formControlName="openDate">
                </mat-form-field>
              </div>
              <div class="col-md-4">
                <mat-form-field class="full-width">
                  <input matInput placeholder="Data przebudowy" formControlName="remodeling">
                </mat-form-field>
              </div>
              <div class="col-md-4">
                <mat-form-field class="full-width">
                  <input matInput placeholder="Data zakupu" formControlName="buyDate">
                </mat-form-field>
              </div>
            </div>

            <div class="row">
              <div class="col-md-6">
                <mat-form-field class="full-width">
                  <textarea matInput placeholder="Meta Keywords" formControlName="metaKeywords"></textarea>
                </mat-form-field>
              </div>
              <div class="col-md-6">
                <mat-form-field class="full-width">
                  <textarea matInput placeholder="Meta Description" formControlName="metaDescription"></textarea>
                </mat-form-field>
              </div>
            </div>




            <div class="row">
              <div class="col-md-4">
                <mat-form-field class="full-width">
                  <input matInput placeholder="link (http://example.pl)" formControlName="siteLinkLink">
                </mat-form-field>
              </div>
              <div class="col-md-4">
                <mat-form-field class="full-width">
                  <input matInput placeholder="Nazwa linku (widoczna)" formControlName="siteLinkName">
                </mat-form-field>
              </div>
              <div class="col-md-4">
                <mat-radio-group aria-label="Select an option" formControlName="status">
                  <mat-radio-button value="plan-invest">Planowana</mat-radio-button>
                  <mat-radio-button value="open-invest">Otwarta</mat-radio-button>
                </mat-radio-group>
              </div>
            </div>

            <div class="row">
              <div class="col-md-12">
                <hr>
              </div>
            </div>

            <div class="row">
              <div class="col-md-4">
                <mat-slide-toggle class="example-margin" [color]="'accent'" formControlName="isShow">
                  Widoczny
                </mat-slide-toggle>
              </div>
            </div>

            <div class="row">
              <div class="col-md-12">
                <hr>
              </div>
            </div>

            <div class="row">
              <div class="col-md-12">
                <h3>WYNAJEM</h3>
              </div>
              <div class="col-md-12">
                <div class="row">
                  <div formArrayName="rentiersContacts"
                    *ngFor="let item of investForm.get('rentiersContacts').controls; let i = index;" class="col-md-4">
                    <div [formGroupName]="i">
                      <mat-form-field class="full-width">
                        <input matInput placeholder="Imię nazwisko" formControlName="name">
                      </mat-form-field>
                      <mat-form-field class="full-width">
                        <input matInput placeholder="Stanowisko" formControlName="who">
                      </mat-form-field>
                      <mat-form-field class="full-width">
                        <input matInput placeholder="Email" formControlName="email">
                      </mat-form-field>
                      <mat-form-field class="full-width">
                        <input matInput placeholder="Telephone" formControlName="phone">
                      </mat-form-field>
                      <button class="btn btn-danger w-100" (click)="removeRentiersContact(i)">
                        usuń <i class="fas fa-minus"></i>
                      </button>
                      <hr>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <button type="button" (click)="addRentiersContact()" class="add-contact-btn btn btn-success">
                      dodaj <i class="fas fa-plus"></i>
                    </button>
                  </div>
                </div>

              </div>
            </div>

            <div class="row">
              <div class="col-md-12">
                <hr>
              </div>
            </div>


            <div class="row">
              <div class="col-md-12">
                <h3>WYNAJEM KRÓTKOTERMINOWY</h3>
              </div>
              <div class="col-md-12">
                <div class="row">
                  <div formArrayName="contacts" *ngFor="let item of investForm.get('contacts').controls; let i = index;"
                    class="col-md-4">
                    <div [formGroupName]="i">
                      <mat-form-field class="full-width">
                        <input matInput placeholder="Imię nazwisko" formControlName="name">
                      </mat-form-field>
                      <mat-form-field class="full-width">
                        <input matInput placeholder="Stanowisko" formControlName="who">
                      </mat-form-field>
                      <mat-form-field class="full-width">
                        <input matInput placeholder="Email" formControlName="email">
                      </mat-form-field>
                      <mat-form-field class="full-width">
                        <input matInput placeholder="Telephone" formControlName="phone">
                      </mat-form-field>
                      <button class="btn btn-danger w-100" (click)="removeContact(i)">
                        usuń <i class="fas fa-minus"></i>
                      </button>
                      <hr>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <button type="button" (click)="addContact()" class="add-contact-btn btn btn-success">
                      dodaj <i class="fas fa-plus"></i>
                    </button>
                  </div>
                </div>

              </div>
            </div>

            <div class="row">
              <div class="col-md-12">
                <hr>
              </div>
            </div>

            <div class="row">
              <div class="col-md-12">
                <h3>ZARZĄD</h3>
              </div>
              <div class="col-md-12">
                <div class="row">
                  <div formArrayName="managementContacts"
                    *ngFor="let item of investForm.get('managementContacts').controls; let i = index;" class="col-md-4">
                    <div [formGroupName]="i">
                      <mat-form-field class="full-width">
                        <input matInput placeholder="Imię nazwisko" formControlName="name">
                      </mat-form-field>
                      <mat-form-field class="full-width">
                        <input matInput placeholder="Stanowisko" formControlName="who">
                      </mat-form-field>
                      <mat-form-field class="full-width">
                        <input matInput placeholder="Email" formControlName="email">
                      </mat-form-field>
                      <mat-form-field class="full-width">
                        <input matInput placeholder="Telephone" formControlName="phone">
                      </mat-form-field>
                      <button class="btn btn-danger w-100" (click)="removeManagmentContact(i)">
                        usuń <i class="fas fa-minus"></i>
                      </button>
                      <hr>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <button type="button" (click)="addManagmentContact()" class="add-contact-btn btn btn-success">
                      dodaj <i class="fas fa-plus"></i>
                    </button>
                  </div>
                </div>

              </div>
            </div>

            <div class="row">
              <div class="col-md-12">
                <hr>
              </div>
            </div>

            <div class="row">
              <div class="col-md-12">
                <h4>Galeria</h4>
              </div>
            </div>

            <div class="row">
              <div class="col-md-12">
                <app-gallery [galleryImages]="invest.gallery" (emitGalleryChange)="changeGallery($event)"></app-gallery>
              </div>
            </div>



            <button class="btn btn-primary btn-lg d-block w-100 btn-save">
              Zapisz
            </button>

          </form>


        </div>
      </div>

    </div>

  </div>

</div>
<ng-template #editClouds></ng-template>
